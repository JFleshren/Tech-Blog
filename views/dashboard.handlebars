<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/dashboard.css">
</head>
<body>
    {{> header}}

    <h1>Dashboard</h1>

    <h2>My Posts</h2>
    {{#if posts.length}}
        <ul>
            {{#each posts}}
                <li>
                    <a href="/post/{{id}}">{{title}}</a>
                    <form action="/dashboard/post/{{id}}" method="POST" onsubmit="return confirm('Are you sure you want to delete this post?');">
                        <button type="submit">Delete</button>
                    </form>
                </li>
            {{/each}}
        </ul>
    {{else}}
        <p>No posts yet</p>
    {{/if}}

    <h2>Add New Post</h2>
    <form action="/dashboard/post" method="POST">
        <input type="text" name="title" placeholder="Title">
        <textarea name="content" placeholder="Content"></textarea>
        <button type="submit">Create Post</button>
    </form>

        {{#if errorMessage}}
        <p class="error">{{errorMessage}}</p>
    {{/if}}

    {{> footer}}
</body>
</html>
